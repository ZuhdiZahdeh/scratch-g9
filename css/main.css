/* =========================
   الأساسيات العامة للموقع
   ========================= */
:root{
  --bg:#f3f4f6;
  --card:#ffffff;
  --text:#0f172a;
  --muted:#6b7280;
  --border:#e5e7eb;
  --primary:#2563eb;
  --radius:12px;
  --shadow:0 6px 20px rgba(0,0,0,.08);
}

*{box-sizing:border-box}
html{scroll-behavior:smooth}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font:16px/1.7 "Tajawal","Cairo",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Noto Sans Arabic",sans-serif;
}
img{max-width:100%;height:auto;display:block}

/* الصفحة العامة */
.page{max-width:1100px;margin:28px auto;padding:0 16px}
.page-header h1{margin:.25rem 0 0 0;font-size:clamp(22px,2.6vw,32px)}
.page-header .lead{margin:.35rem 0 1rem 0;color:var(--muted)}
.breadcrumbs a{
  color:var(--primary);text-decoration:none;border:1px dashed transparent;
  padding:.15rem .45rem;border-radius:8px;transition:.2s all;
}
.breadcrumbs a:hover{border-color:var(--primary);background:#eef2ff}
/* =========================
   ألوان جدول فئات سكراتش
   ========================= */
.scratch-cats-table tbody tr[class^="cat-"]{
  /* ظل خفيف للصف كاملاً */
  --tint: transparent;
  background: var(--tint);
  transition: background .15s ease;
}
.scratch-cats-table tbody tr[class^="cat-"]:hover{ filter: brightness(1.02); }

/* شارة الفئة (الخلية الأولى) */
.scratch-cats-table .label{
  display:inline-block;
  padding:.2rem .6rem;
  border-radius:9999px;
  font-weight:700;
  color:#fff;           /* يُعدّل ببعض الفئات أدناه */
}

/* تعيين ألوان كل فئة (مطابقة للوحة سكراتش) */
/* Events */
.scratch-cats-table .cat-events{ --tint: rgba(242,193,46,.18); }
.scratch-cats-table .cat-events .label{ background:#f2c12e; color:#1a1a1a; }

/* Control */
.scratch-cats-table .cat-control{ --tint: rgba(255,171,25,.18); }
.scratch-cats-table .cat-control .label{ background:#ffab19; }

/* Motion */
.scratch-cats-table .cat-motion{ --tint: rgba(76,151,255,.18); }
.scratch-cats-table .cat-motion .label{ background:#4c97ff; }

/* Pen */
.scratch-cats-table .cat-pen{ --tint: rgba(15,189,140,.18); }
.scratch-cats-table .cat-pen .label{ background:#0fbd8c; }

/* Looks */
.scratch-cats-table .cat-looks{ --tint: rgba(153,102,255,.18); }
.scratch-cats-table .cat-looks .label{ background:#9966ff; }

/* Sound */
.scratch-cats-table .cat-sound{ --tint: rgba(207,99,207,.18); }
.scratch-cats-table .cat-sound .label{ background:#cf63cf; }

/* Sensing */
.scratch-cats-table .cat-sensing{ --tint: rgba(92,177,214,.18); }
.scratch-cats-table .cat-sensing .label{ background:#5cb1d6; }

/* Operators */
.scratch-cats-table .cat-operators{ --tint: rgba(89,192,89,.18); }
.scratch-cats-table .cat-operators .label{ background:#59c059; }

/* Variables */
.scratch-cats-table .cat-variables{ --tint: rgba(255,140,26,.18); }
.scratch-cats-table .cat-variables .label{ background:#ff8c1a; }

/* My Blocks */
.scratch-cats-table .cat-myblocks{ --tint: rgba(255,102,128,.18); }
.scratch-cats-table .cat-myblocks .label{ background:#ff6680; }

/* البطاقات */
.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  margin:16px 0;
  overflow:hidden;
}
.card-header{padding:12px 16px;border-bottom:1px solid var(--border);background:#fafafa}
.card-header h2{margin:0;font-size:clamp(18px,2.2vw,24px)}
.card-body{padding:16px}
.note{color:var(--muted);background:#f8fafc;border:1px solid var(--border);padding:8px 12px;border-radius:10px}
.monospace-text{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, "Courier New", monospace}

/* شبكة الصور المصغّرة */
.figure-grid{
  display:grid;gap:12px;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  align-items:start;
}
.figure-grid figure{margin:0}
.figure-grid figcaption{margin-top:.4rem;color:var(--muted)}

/* Lightbox بسيط */
.lightbox{position:fixed;inset:0;background:rgba(0,0,0,.75);display:none;place-items:center;z-index:1000}
.lightbox.open img{max-width:92vw;max-height:92vh;border-radius:12px;box-shadow:0 14px 48px rgba(0,0,0,.45)}

/* خطوط كود سكراتش (تصحيحات منع الفراغات السوداء) */
.scratch-code .line{
  display:block;
  padding:4px 10px;
  margin:0;                 /* لا فواصل سوداء بين الأسطر */
  border-radius:4px;
  color:#fff;
  font-family:ui-monospace,monospace;
}
.scratch-code .line[data-cat="blank"]{
  display:none !important;  /* إخفاء السطور الفارغة إن وُجدت */
  padding:0 !important;
  margin:0 !important;
  height:0 !important;
}
